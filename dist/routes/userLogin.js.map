{"version":3,"sources":["../../src/routes/userLogin.js"],"names":["router","Router","post","req","res","findOne","username","body","err","result","password","token","sign","id","_id","userStatus","email","phoneNumber","minBetAmount","maxBetAmount","maxWinAmount","weeklyBalance","thisWeekBalance","thisWeekLossAmount","thisWeekWonAmount","lastWeekBalance","lastWeekWonAmount","lastWeekLossAmount","currentOpenBetAmount","status","send"],"mappings":";;;;;;AAAA;;;;AACA;;;;AAGA;;;;;;AAFA,IAAMA,SAAS,kBAAQC,MAAR,EAAf;;AAIAD,OAAOE,IAAP,CAAY,aAAZ,EAA2B,UAACC,GAAD,EAAMC,GAAN,EAAc;AACxC,gBAAKC,OAAL,CAAa,EAACC,UAAUH,IAAII,IAAJ,CAASD,QAApB,EAAb,EAA4C,wOAA5C,EAAsR,UAASE,GAAT,EAAcC,MAAd,EAAqB;AAC1S,MAAGA,MAAH,EAAU;AACT,OAAGA,OAAOC,QAAP,IAAmBP,IAAII,IAAJ,CAASG,QAA/B,EAAwC;AACvC,QAAMC,QAAQ,uBAAIC,IAAJ,CAAS;AACtBC,SAAIJ,OAAOK,GADW;AAEtBC,iBAAYN,OAAOM,UAFG;AAGtBT,eAAUG,OAAOH,QAHK;AAItBU,YAAOP,OAAOQ,WAJQ;AAKtBA,kBAAaR,OAAOQ,WALE;AAMtBC,mBAAcT,OAAOS,YANC;AAOtBC,mBAAcV,OAAOU,YAPC;AAQtBC,mBAAcX,OAAOW,YARC;AAStBC,oBAAeZ,OAAOY,aATA;AAUtBC,sBAAiBb,OAAOa,eAVF;AAWtBC,yBAAoBd,OAAOc,kBAXL;AAYtBC,wBAAmBf,OAAOe,iBAZJ;AAatBC,sBAAiBhB,OAAOgB,eAbF;AActBC,wBAAmBjB,OAAOiB,iBAdJ;AAetBC,yBAAoBlB,OAAOc,kBAfL;AAgBtBK,2BAAsBnB,OAAOmB;AAhBP,KAAT,EAiBX,SAjBW,CAAd;AAkBA,WAAOxB,IAAIyB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBnB,KAArB,CAAP;AACA,IApBD,MAoBK;AACJ,WAAOP,IAAIyB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,sBAArB,CAAP;AACA;AACD,GAxBD,MAwBK;AACJ,UAAO1B,IAAIyB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,gBAArB,CAAP;AACA;AACD,EA5BD;AA6BA,CA9BD;;kBAiCe9B,M","file":"userLogin.js","sourcesContent":["import express from 'express';\nimport User from '../models/User';\nconst router = express.Router();\n\nimport jwt from 'jsonwebtoken';\n\nrouter.post('/user-login', (req, res) => {\n\tUser.findOne({username: req.body.username}, '_id userStatus username password email phoneNumber minBetAmount maxBetAmount maxWinAmount weeklyBalance thisWeekBalance thisWeekLossAmount thisWeekWonAmount lastWeekBalance lastWeekLossAmount lastWeekWonAmount currentOpenBetAmount', function(err, result){\n\t\tif(result){\n\t\t\tif(result.password == req.body.password){\n\t\t\t\tconst token = jwt.sign({\n\t\t\t\t\tid: result._id,\t\t\t\t\n\t\t\t\t\tuserStatus: result.userStatus, \n\t\t\t\t\tusername: result.username,\n\t\t\t\t\temail: result.phoneNumber,\n\t\t\t\t\tphoneNumber: result.phoneNumber,\n\t\t\t\t\tminBetAmount: result.minBetAmount,\n\t\t\t\t\tmaxBetAmount: result.maxBetAmount,\n\t\t\t\t\tmaxWinAmount: result.maxWinAmount,\n\t\t\t\t\tweeklyBalance: result.weeklyBalance,\n\t\t\t\t\tthisWeekBalance: result.thisWeekBalance,\n\t\t\t\t\tthisWeekLossAmount: result.thisWeekLossAmount,\n\t\t\t\t\tthisWeekWonAmount: result.thisWeekWonAmount,\n\t\t\t\t\tlastWeekBalance: result.lastWeekBalance,\n\t\t\t\t\tlastWeekWonAmount: result.lastWeekWonAmount,\n\t\t\t\t\tlastWeekLossAmount: result.thisWeekLossAmount,\n\t\t\t\t\tcurrentOpenBetAmount: result.currentOpenBetAmount,\n\t\t\t\t}, 'diamond');\n\t\t\t\treturn res.status(200).send(token)\n\t\t\t}else{\n\t\t\t\treturn res.status(404).send('password not correct')\n\t\t\t}\n\t\t}else{\n\t\t\treturn res.status(404).send('user not found')\n\t\t}\n\t})\n})\n\n\nexport default router"]}