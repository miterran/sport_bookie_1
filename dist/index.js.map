{"version":3,"sources":["../src/index.js"],"names":["Promise","global","connect","MONGODB_URL","app","server","createServer","use","initialize","urlencoded","extended","json","static","resolve","__dirname","get","request","response","sendFile","listen","process","env","PORT","console","log","address","port"],"mappings":";;;;;;AAAA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AAGA;;;;AAEA;;;;AAIA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;;;AAdA,mBAASA,OAAT,GAAmBC,OAAOD,OAA1B;AAPA;;AAQA,mBAASE,OAAT,CAAiB,iBAAOC,WAAxB;;AAgBA,IAAIC,MAAM,wBAAV;AACAA,IAAIC,MAAJ,GAAa,eAAKC,YAAL,CAAkBF,GAAlB,CAAb;;AAIAA,IAAIG,GAAJ,CAAQ,mBAASC,UAAT,EAAR;;AAGA;AACAJ,IAAIG,GAAJ,CAAQ,sBAAO,KAAP,CAAR;;AAEA;AACAH,IAAIG,GAAJ,CAAQ,qBAAR;;AAEAH,IAAIG,GAAJ,CAAQ,qBAAWE,UAAX,CAAsB,EAAEC,UAAU,IAAZ,EAAtB,CAAR;AACAN,IAAIG,GAAJ,CAAQ,qBAAWI,IAAX,EAAR;;AAEAP,IAAIG,GAAJ,CAAQ,kBAAQK,MAAR,CAAe,eAAKC,OAAL,CAAaC,SAAb,EAAwB,iBAAxB,CAAf,CAAR;;AAMA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAIAV,IAAIG,GAAJ,CAAQ,MAAR;AACAH,IAAIG,GAAJ,CAAQ,MAAR;AACAH,IAAIG,GAAJ,CAAQ,MAAR;AACAH,IAAIG,GAAJ,CAAQ,MAAR;AACAH,IAAIG,GAAJ,CAAQ,MAAR;;AAEAH,IAAIG,GAAJ,CAAQ,MAAR;AACAH,IAAIG,GAAJ,CAAQ,MAAR;;AAEAH,IAAIG,GAAJ,CAAQ,MAAR;;AAEAH,IAAIG,GAAJ,CAAQ,MAAR;;AAEAH,IAAIW,GAAJ,CAAQ,GAAR,EAAa,UAASC,OAAT,EAAkBC,QAAlB,EAA4B;AACvCA,WAASC,QAAT,CAAkB,eAAKL,OAAL,CAAaC,SAAb,EAAwB,iBAAxB,EAA2C,YAA3C,CAAlB;AACD,CAFD;;AAIAV,IAAIC,MAAJ,CAAWc,MAAX,CAAkBC,QAAQC,GAAR,CAAYC,IAAZ,IAAoB,IAAtC,EAA4C,YAAM;AACjDC,UAAQC,GAAR,sBAA+BpB,IAAIC,MAAJ,CAAWoB,OAAX,GAAqBC,IAApD;AACA,CAFD;;kBAIetB,G","file":"index.js","sourcesContent":["import \"babel-polyfill\";\nimport path from 'path';\nimport http from 'http';\nimport express from 'express';\nimport cors from 'cors';\nimport morgan from 'morgan';\nimport bodyParser from 'body-parser';\n//import fetch from 'node-fetch';\nimport passport from \"passport\";\n\n\nimport config from './data/config';\n\nimport mongoose from 'mongoose'\nmongoose.Promise = global.Promise;\nmongoose.connect(config.MONGODB_URL)\n\nimport moment from 'moment'\n\nimport userRegister from './routes/userRegister';\nimport userLogin from './routes/userLogin';\nimport fetchAllLeague from './routes/fetchAllLeague';\nimport fetchStraightOdds from './routes/fetchStraightOdds';\nimport straightWagerSubmit from './routes/straightWagerSubmit';\nimport fetchPlayerStraightOpenBetWager from './routes/fetchPlayerStraightOpenBetWager';\nimport verifyStraightBetWagerResult from './routes/verifyStraightBetWagerResult';\nimport fetchPlayerStraightWagerHistory from './routes/fetchPlayerStraightWagerHistory';\n\nimport updatePlayerBalances from './routes/updatePlayerBalances';\n\n\nlet app = express();\napp.server = http.createServer(app);\n\n\n\napp.use(passport.initialize());\n\n\n// logger\napp.use(morgan('dev'));\n\n// 3rd party middleware\napp.use(cors());\n\napp.use(bodyParser.urlencoded({ extended: true }));\napp.use(bodyParser.json());\n\napp.use(express.static(path.resolve(__dirname, '../client/build')));\n\n\n\n\n\n// https://jsonodds.com/api/odds/${query.sport}?source=8&oddType=${query.oddType.replace(/\\s/g,'')}`\n\n\n// app.get('/test2', function(req, res){\n// \tvar options = {source: 8, sport: 'nba'};\n// \tjsonOdds.getOdds(options, function(err, response, body) {\n// \t  if (err) throw new Error(err);\n// \t  res.json(body);\n// \t});\n// })\n\n\n// console.log(moment().startOf('week').subtract(7, 'days'))\n// console.log(moment().startOf('week'))\n// console.log(moment().endOf('week'))\n\n\n\napp.use('/api', userRegister)\napp.use('/api', userLogin)\napp.use('/api', fetchAllLeague)\napp.use('/api', fetchStraightOdds)\napp.use('/api', straightWagerSubmit)\n\napp.use('/api', fetchPlayerStraightOpenBetWager)\napp.use('/api', fetchPlayerStraightWagerHistory)\n\napp.use('/api', verifyStraightBetWagerResult)\n\napp.use('/api', updatePlayerBalances)\n\napp.get('*', function(request, response) {\n  response.sendFile(path.resolve(__dirname, '../client/build', 'index.html'));\n});\n\napp.server.listen(process.env.PORT || 8080, () => {\n\tconsole.log(`Started on port ${app.server.address().port}`);\n});\n\nexport default app;"]}